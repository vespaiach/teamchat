import{e as u}from"./common-HPS6C7QP.js";import{a as m,b as C,d as i,k as f}from"./common-ATYGQR7Y.js";var p=m(C(),1);var g=m(f(),1);function h({className:e,...r}){return(0,g.jsxs)("svg",{...r,className:i("animate-spin",e),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}var d=m(f(),1),l={xs:{padding:"p-1",iconSize:"w-3 h-3",minSize:"min-w-[1.75rem] min-h-[1.75rem]"},sm:{padding:"p-1.5",iconSize:"w-4 h-4",minSize:"min-w-[2rem] min-h-[2rem]"},md:{padding:"p-2",iconSize:"w-5 h-5",minSize:"min-w-[2.5rem] min-h-[2.5rem]"},lg:{padding:"p-3",iconSize:"w-6 h-6",minSize:"min-w-[3rem] min-h-[3rem]"},xl:{padding:"p-4",iconSize:"w-7 h-7",minSize:"min-w-[3.5rem] min-h-[3.5rem]"}},A={primary:i("text-white border border-transparent shadow-sm bg-primary border-primary","focus:outline-none focus:ring-2 focus:ring-offset-2","dark:focus:ring-offset-gray-900","hover:not-disabled:bg-primary-hover dark:hover:not-disabled:bg-dark-primary-hover"),secondary:i("text-gray-700 bg-gray-100 border border-gray-300 shadow-sm","hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500","dark:text-gray-300 dark:bg-gray-800 dark:border-gray-600 dark:hover:bg-gray-700","dark:focus:ring-offset-gray-900 dark:focus:ring-gray-400"),outline:i("text-gray-700 bg-white border border-gray-300 shadow-sm border-primary text-primary","hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2","dark:text-gray-300 dark:bg-gray-900 dark:border-gray-600 dark:hover:bg-gray-800","dark:focus:ring-offset-gray-900 bg-transparent","hover:not-disabled:bg-primary-light dark:hover:not-disabled:bg-dark-primary-light"),ghost:i("text-gray-700 bg-transparent border border-transparent","hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500","dark:text-gray-300 dark:hover:bg-gray-800 dark:focus:ring-offset-gray-900 dark:focus:ring-gray-400"),danger:i("text-white bg-red-600 border border-transparent shadow-sm","hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500","dark:bg-red-700 dark:hover:bg-red-800 dark:focus:ring-offset-gray-900")},z={square:"rounded-lg",circle:"rounded-full"};function N(e){let{icon:r,variant:s="ghost",size:o="md",shape:t="square",loading:a=!1,tooltip:n,className:c="",disabled:w,ref:k,...S}=e,R=i("inline-flex items-center justify-center font-medium","disabled:opacity-50 disabled:cursor-not-allowed","relative group transition duration-200",l[o].padding,l[o].minSize,z[t],A[s],c),T=w||a,v=(0,p.useMemo)(()=>{if(a)return(0,d.jsx)(h,{className:l[o].iconSize});if((0,p.isValidElement)(r)){let y=r;return(0,p.cloneElement)(y,{...y.props,className:i(l[o].iconSize,y.props?.className)})}return(0,d.jsx)("span",{className:l[o].iconSize,children:r})},[r,a,o]);return(0,d.jsxs)("button",{...S,ref:k,className:R,disabled:T,children:[v,n&&(0,d.jsxs)("span",{className:i("absolute z-50 px-2 py-1 text-xs font-medium text-white bg-gray-900 rounded","opacity-0 group-hover:opacity-100 transition-opacity duration-200","pointer-events-none whitespace-nowrap","bottom-full left-1/2 transform -translate-x-1/2 mb-2","dark:bg-gray-700"),children:[n,(0,d.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})]})}async function b(e,r={}){let o={...{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},...r.headers};try{let t=await fetch(e,{...r,headers:o});if(!t.ok){let a=await t.json();return u(a.error||"An unexpected error occurred"),{success:!1,error:a.error||"An unexpected error occurred"}}return{success:!0,data:await t.json()}}catch(t){let a=t instanceof Error?t.message:"An unexpected error occurred";return u(a),{success:!1,error:a}}}function L(e,r){let s=r?"?"+new URLSearchParams(r).toString():"";return b(e+s,{method:"GET"})}function H(e,r){return b(e,{method:"POST",body:JSON.stringify(r)})}function I(e,r){return b(e,{method:"PUT",body:JSON.stringify(r)})}function O(e,r){let s=r?"?"+new URLSearchParams(r).toString():"";return b(e+s,{method:"DELETE"})}function j(e,r,s){return new Promise(o=>{let t=new XMLHttpRequest;s&&t.upload.addEventListener("progress",n=>{if(n.lengthComputable){let c=n.loaded/n.total*100;s(c)}}),t.addEventListener("load",async()=>{try{if(t.status>=200&&t.status<300){let n=JSON.parse(t.responseText);o({success:!0,data:n})}else{let n=JSON.parse(t.responseText);u(n.error||"An unexpected error occurred"),o({success:!1,error:n.error||"An unexpected error occurred"})}}catch(n){let c=n instanceof Error?n.message:"An unexpected error occurred";u(c),o({success:!1,error:c})}}),t.addEventListener("error",()=>{let n="Network error occurred";u(n),o({success:!1,error:n})});let a=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"";t.open("POST",e),t.setRequestHeader("X-CSRF-Token",a),t.setRequestHeader("Accept","application/json"),t.send(r)})}function E(e){return{id:e.id,name:e.name,description:e.description,isPublic:e.is_public,createdById:e.created_by_id,createdAt:new Date(e.created_at),memberCount:e.member_count,hasUnreadMessages:e.has_unread_messages,isMember:e.is_member}}function J(e){return e.map(E)}function _(e){return{id:e.id,createdById:e.created_by_id,createdAt:new Date(e.created_at),hasUnreadMessages:e.has_unread_messages,participants:e.participants.map(x)}}function V(e){return e.map(_)}function x(e){return{id:e.id,email:e.email,avatar:e.avatar,firstName:e.first_name,lastName:e.last_name,name:`${e.first_name} ${e.last_name}`,joinedAt:new Date(e.created_at),timezone:e.time_zone,role:e.role,department:e.department}}function X(e){return e.map(x)}function D(e){let r=document.getElementById(e)?.textContent;if(r)try{return JSON.parse(r)}catch(s){return console.error("Failed to parse user data:",s),null}return null}export{h as a,N as b,L as c,H as d,I as e,O as f,j as g,E as h,J as i,_ as j,V as k,x as l,X as m,D as n};
